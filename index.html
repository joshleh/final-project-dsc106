<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mouse Activity & Temperature Analysis</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <h1>Rhythms of the Night: Analyzing Mouse Activity and Temperature Cycles</h1>
        <p>This project explores the relationship between activity levels and body temperature in mice over a 14-day period.</p>
    </div>

    <div class="controls">
        <label for="timeRange">Select Time Range:</label>
        <select id="timeRange" onchange="loadAndProcessData()">
            <option value="all">All 14 Days</option>
            <option value="week1">Week 1</option>
            <option value="week2">Week 2</option>
            <option value="day1">Day 1 (non-estrus)</option>
            <option value="day2">Day 2 (estrus)</option>
            <option value="day3">Day 3 (non-estrus)</option>
            <option value="day4">Day 4 (non-estrus)</option>
            <option value="day5">Day 5 (non-estrus)</option>
            <option value="day6">Day 6 (estrus)</option>
            <option value="day7">Day 7 (non-estrus)</option>
            <option value="day8">Day 8 (non-estrus)</option>
            <option value="day9">Day 9 (non-estrus)</option>
            <option value="day10">Day 10 (estrus)</option>
            <option value="day11">Day 11 (non-estrus)</option>
            <option value="day12">Day 12 (non-estrus)</option>
            <option value="day13">Day 13 (non-estrus)</option>
            <option value="day14">Day 14 (estrus)</option>
        </select>

        <label for="genderFilter">Select Gender:</label>
        <select id="genderFilter" onchange="loadAndProcessData()">
            <option value="both">Both</option>
            <option value="female">Female Only</option>
            <option value="male">Male Only</option>
        </select>

        <button id="backgroundBtn" onclick="toggleSidebar()">Background Info</button>
    </div>

    <div class="legend-box">
        <span>Legend (Background Colors):</span>
        <div class="nighttime"></div> Nighttime
        <div class="daytime"></div> Daytime
    </div>

    <div id="sidebar">
        <h2>Background Information</h2>
        <p>Visualization is based on mouse data covering 2 weeks of minute-level activity and core body temperature. Mice follow a 12-hour light/dark cycle.</p>
        <p>Estrus (a recurring period of sexual receptivity and fertility in many female mammals) occurs every 4 days in females.</p>

        <h2>Motivation</h2>
        <p>This project helps us to explore circadian rhythms in mice, particularly with how their activity and body temperatures change over a controlled 12-hour light cycle. Understanding these patterns can provide insights into human biological clocks, which have broader implications for sleep and health studies. </p>

        <h2>Takeaways</h2>
        <p>One of the most striking takeaways is how strongly mice follow their circadian rhythms. The data clearly shows temperature and activity rising and falling in sync with the light-dark cycle, reinforcing just how much biology is wired to external time cues. </p>
        <p>Something particularly fascinating is how female mice exhibit higher temperatures and increased activity during estrus. This natural biological cycle appears consistently in the data, and it suggests that hormonal changes play a measurable role in behavior. </p>
        <p>Since mice are nocturnal, their most active periods occur during the dark cycle. This might seem obvious, but seeing it visualized makes it easy to appreciate just how precise their biological clocks are. </p>
        <p>These patterns aren’t unique to mice–circadian rhythms govern behavior and health in nearly all organisms, including humans. This project is a small but powerful demonstration of how tracking physiological patterns can reveal deeper biological insights. </p>

        <h2>Conclusion</h2>
        <p>Our body clocks are always running–whether we’re mice in a lab or people hitting snooze on an alarm. Understanding these cycles can help us improve health, sleep, and even productivity. This project gives us a glimpse into just how much biology is driven by time. </p>

        <button onclick="toggleSidebar()">Close</button>
    </div>

    <div class="chart-row">
        <div class="chart-container">
            <h2>Average Temperature Trends</h2>
            <svg id="temperatureChart" width="600" height="450"></svg>
        </div>
        <div class="chart-container">
            <h2>Temperature Difference (Female - Male)</h2>
            <svg id="temperatureBarGraph" width="600" height="450"></svg>
        </div>
    </div>

    <div class="chart-row">
        <div class="chart-container">
            <h2>Activity Trends Over Time</h2>
            <svg id="activityChart" width="600" height="450"></svg>
        </div>
        <div class="chart-container">
            <h2>Activity Difference (Female - Male)</h2>
            <svg id="activityBarGraph" width="600" height="450"></svg>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
